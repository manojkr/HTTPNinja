<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>HTTPNinja by manojkr</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header">HTTPNinja</h1>
        <p class="header">Smalltalk Framework for writing Rest Api clients</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/manojkr/HTTPNinja/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/manojkr/HTTPNinja/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/manojkr/HTTPNinja">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/manojkr">manojkr</a></p>


      </header>
      <section>
        <h1>
<a name="httpninja" class="anchor" href="#httpninja"><span class="octicon octicon-link"></span></a>HTTPNinja</h1>

<p>HTTPNinja is a SmallTalk framework to write Rest Api clients with minimal effort. It is heavily inspired from <a href="https://github.com/jnunemaker/httparty">HTTParty</a> in Ruby. The goal is to write fully functional Rest Api clients without writing any redundant code. </p>

<h2>
<a name="examples" class="anchor" href="#examples"><span class="octicon octicon-link"></span></a>Examples</h2>

<p>Let's create a client to connect to GitHub. </p>

<ul>
<li>Create a GitHub that extends RESTClient</li>
</ul><div class="highlight highlight-smalltalk"><pre><span class="nc">RESTClient</span> <span class="nf">subclass:</span> <span class="ss">#GitHub</span>
    <span class="nf">instanceVariableNames:</span> <span class="s">''</span>
    <span class="nf">classVariableNames:</span> <span class="s">''</span>
    <span class="nf">category:</span> <span class="s">'HTTPNinja'</span>
</pre></div>

<ul>
<li>Define a method baseUri to provide Base Url for the api</li>
</ul><div class="highlight highlight-ruby"><pre><span class="no">GitHub</span><span class="o">&gt;&gt;</span><span class="n">baseUri</span>
    <span class="o">^</span><span class="s1">'https://api.github.com/'</span><span class="o">.</span>
</pre></div>

<ul>
<li>Define a method to provide Default Query parameters</li>
</ul><div class="highlight highlight-ruby"><pre><span class="no">GitHub</span><span class="o">&gt;&gt;</span><span class="n">defaultParams</span>
    <span class="o">^</span><span class="p">{</span> <span class="c1">#region -&gt; 'US' }.</span>
</pre></div>

<ul>
<li>Specify the output format of the Api as XML or JSON. HTTPNinja will automatically convert XML or JSON output to Smalltalk data structures </li>
</ul><div class="highlight highlight-ruby"><pre><span class="no">GitHub</span><span class="o">&gt;&gt;</span><span class="n">outputFormat</span>
    <span class="o">^</span><span class="c1">#json</span>
</pre></div>

<ul>
<li>GitHub uses Basic Authentication. Provides methods for username and password to use Basic authentication.</li>
</ul><div class="highlight highlight-ruby"><pre><span class="no">GitHub</span><span class="o">&gt;&gt;</span><span class="n">username</span>
    <span class="o">^</span><span class="s1">'manojkr'</span><span class="o">.</span>
</pre></div>

<div class="highlight highlight-ruby"><pre><span class="no">GitHub</span><span class="o">&gt;&gt;</span><span class="n">password</span>
    <span class="o">^</span><span class="s1">'secret'</span><span class="o">.</span>
</pre></div>

<ul>
<li>That's it. Now you are all set to start invoking different api methods. </li>
<li>Let's write a method to get User Information on GitHub</li>
</ul><div class="highlight highlight-ruby"><pre><span class="no">GitHub</span><span class="o">&gt;&gt;</span><span class="ss">user</span><span class="p">:</span><span class="n">username</span>
    <span class="o">^</span><span class="nb">self</span> <span class="ss">get</span><span class="p">:</span> <span class="s1">'users/'</span><span class="p">,</span><span class="n">username</span><span class="o">.</span>
</pre></div>

<p>Another method to get repositories for a user.</p>

<div class="highlight highlight-ruby"><pre><span class="no">GitHub</span><span class="o">&gt;&gt;</span><span class="ss">userRepos</span><span class="p">:</span><span class="n">username</span>
    <span class="o">^</span><span class="nb">self</span> <span class="ss">get</span><span class="p">:</span> <span class="s1">'/users/'</span><span class="p">,</span><span class="n">username</span><span class="p">,</span><span class="s1">'/repos'</span><span class="o">.</span>
</pre></div>

<ul>
<li>Let's try using this GitHub client</li>
</ul><div class="highlight highlight-sh"><pre>client :<span class="o">=</span> GitHub new.
userinfo :<span class="o">=</span> y user:<span class="s1">'manojkr'</span>.
userrepos :<span class="o">=</span> y userRepos:<span class="s1">'manojkr'</span>.
</pre></div>

<h2>
<a name="api-reference" class="anchor" href="#api-reference"><span class="octicon octicon-link"></span></a>Api Reference</h2>

<p>HTTPNinja provides methods for commonly used HTTP verbs.</p>

<div class="highlight highlight-ruby"><pre><span class="ss">get</span><span class="p">:</span><span class="n">path</span>
<span class="n">make</span> <span class="n">a</span> <span class="no">GET</span> <span class="n">request</span> <span class="n">at</span> <span class="n">location</span> <span class="s2">"path"</span>

<span class="ss">get</span><span class="p">:</span><span class="n">path</span> <span class="ss">params</span><span class="p">:</span><span class="n">queryParams</span>
<span class="n">make</span> <span class="n">a</span> <span class="no">GET</span> <span class="n">request</span> <span class="n">at</span> <span class="n">location</span> <span class="s2">"path"</span> <span class="n">with</span> <span class="s2">"queryParams"</span> <span class="n">dictionary</span> <span class="n">as</span> <span class="no">Query</span> <span class="no">Parameters</span>

<span class="ss">postForm</span><span class="p">:</span><span class="n">dictionary</span> <span class="ss">to</span><span class="p">:</span> <span class="n">path</span>
<span class="no">POST</span> <span class="n">dictionary</span> <span class="n">as</span> <span class="n">a</span> <span class="n">form</span> <span class="n">with</span> <span class="n">encoding</span> <span class="n">type</span> <span class="s2">"application/x-www-form-urlencoded"</span> <span class="n">to</span> <span class="n">location</span> <span class="s2">"path"</span>

<span class="ss">postJson</span><span class="p">:</span><span class="n">json</span> <span class="ss">to</span><span class="p">:</span> <span class="n">path</span>
<span class="no">POST</span> <span class="no">JSON</span> <span class="n">string</span> <span class="n">with</span> <span class="n">headers</span> <span class="s1">'Content-type:application/json'</span> <span class="n">to</span> <span class="n">location</span> <span class="s2">"path"</span>

<span class="ss">postDictAsJson</span><span class="p">:</span><span class="n">dic</span> <span class="ss">to</span><span class="p">:</span><span class="n">path</span>
<span class="no">Convert</span> <span class="n">dictionary</span> <span class="s2">"dic"</span> <span class="n">to</span> <span class="no">JSON</span> <span class="ow">and</span> <span class="no">POST</span> <span class="n">resulting</span> <span class="no">JSON</span> <span class="n">string</span> <span class="n">with</span> <span class="n">headers</span> <span class="s1">'Content-type:application/json'</span> <span class="n">to</span> <span class="n">location</span> <span class="s2">"path"</span>

<span class="ss">postXml</span><span class="p">:</span><span class="n">xml</span> <span class="ss">to</span><span class="p">:</span><span class="n">path</span>
<span class="no">POST</span> <span class="no">XML</span> <span class="n">string</span> <span class="n">with</span> <span class="n">headers</span> <span class="s1">'Content-type:application/xml'</span> <span class="n">to</span> <span class="n">location</span> <span class="s2">"path"</span>
</pre></div>

<h2>
<a name="version" class="anchor" href="#version"><span class="octicon octicon-link"></span></a>Version</h2>

<p>0.1</p>

<h2>
<a name="tech" class="anchor" href="#tech"><span class="octicon octicon-link"></span></a>Tech</h2>

<p>HTTPNinja uses a number of open source projects to work properly:</p>

<ul>
<li>
<a href="http://zn.stfx.eu/zn/index.html">Zinc HTTP Components</a> - an open-source Smalltalk framework to deal with the HTTP networking protocol</li>
<li>
<a href="https://github.com/svenvc/docs/blob/master/zinc/zinc-sso-paper.md">Zinc SSO</a> - framework for implementations of client side OAuth &amp; OpenID &amp; SSL</li>
<li>
<a href="http://stfx.eu/neojson/">NeoJson</a> - an elegant and efficient standalone Smalltalk framework to read and write JSON converting to or from Smalltalk objects</li>
</ul><h2>
<a name="installation" class="anchor" href="#installation"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Coming soon</p>

<h2>
<a name="license" class="anchor" href="#license"><span class="octicon octicon-link"></span></a>License</h2>

<p>MIT</p>

<p><strong>Free Software, Hell Yeah!</strong></p>
      </section>
      <footer>
        <p><small>Hosted on <a href="http://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </body>
</html>
